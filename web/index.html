<!DOCTYPE html>
<html lang="en-us">
<head>
<title>Dwordly</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<meta name="Description" content="A game where words dwindle down to the shortest possible">

<link rel="stylesheet" href="css/style.css">
<script>
// compute the vw/vh units more reliably than CSS does itself
if (document.documentElement && document.documentElement.style && document.documentElement.style.setProperty) {
	let width = Math.max(300,document.documentElement.clientWidth);
	let height = Math.max(300,document.documentElement.clientHeight);
	document.documentElement.style.setProperty("--vw-unit",`${(width / 100).toFixed(1)}px`);
	document.documentElement.style.setProperty("--vh-unit",`${(height / 100).toFixed(1)}px`);
}
</script>
</head>
<body>

<header>
	<button type="button" id="menu-toggle-btn" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle main menu"></button>

	<button type="button" id="help-btn" aria-controls="help-popup" aria-expanded="false" aria-label="Open help and game instructions"></button>

	<span id="title" aria-label="Game title">DWORDLY</span>

	<span id="game-score" class="hidden" aria-live="off" aria-label="Game score"></span>
</header>
<menu role="menu" id="main-menu" class="hidden" aria-hidden="true" aria-label="main menu">
	<button type="button" id="close-menu-btn" aria-label="Close menu">Ã—</button>
	<li role="none"><button type="button" id="new-game-btn" role="menuitem" aria-label="start a new game">new game</button></li>
	<li role="none">
		<input type="radio" name="difficulty-selector" id="easy-difficulty" value="easy" role="menuitem" aria-label="Select easy game mode" checked><label for="easy-difficulty"> easy</label>
	</li>
	<li role="none">
		<input type="radio" name="difficulty-selector" id="medium-difficulty" value="medium" role="menuitem" aria-label="Select medium game mode"><label for="medium-difficulty"> medium</label>
	</li>
	<li role="none">
		<input type="radio" name="difficulty-selector" id="hard-difficulty" value="hard" role="menuitem" aria-label="Select hard game mode"><label for="hard-difficulty"> hard</label>
	</li>
	<li role="none"><button type="button" id="menu-help-btn" role="menuitem" aria-controls="help-popup" aria-expanded="false" aria-label="Open the help and game instructions">help</button></li>
</menu>
<div id="play-area" class="hidden" aria-label="Play the game here">
	<div id="played-words">
		<ul id="played-words-list" aria-label="All the words played so far in this game"></ul>
		<div>
			<button type="button" id="undo-all-btn" aria-label="Undo all played words to restart current game" disabled></button>
			<button type="button" id="undo-btn" aria-label="Undo the most recent played word" disabled></button>
		</div>
	</div>
	<div id="next-play"><form role="none">
		<div class="word" aria-label="The next word move being played"></div>
		<div id="play-action-buttons">
			<button type="button" id="insert-letter-btn" aria-label="Insert a letter" disabled></button>
			<button type="button" id="play-word-btn" aria-label="Play this word" disabled></button>
			<button type="button" id="reset-word-btn" aria-label="Reset this play" disabled></button>
		</div>
	</form></div>
</div>
<div id="keyboard" aria-label="On-screen keyboard"><form role="none">
	<button type="button" disabled>Q</button><button type="button" disabled>W</button><button type="button" disabled>E</button><button type="button" disabled>R</button><button type="button" disabled>T</button><button type="button" disabled>Y</button><button type="button" disabled>U</button><button type="button" disabled>I</button><button type="button" disabled>O</button><button type="button" disabled>P</button>

	<button type="button" disabled>A</button><button type="button" disabled>S</button><button type="button" disabled>D</button><button type="button" disabled>F</button><button type="button" disabled>G</button><button type="button" disabled>H</button><button type="button" disabled>J</button><button type="button" disabled>K</button><button type="button" disabled>L</button>

	<button type="button" disabled>Z</button><button type="button" disabled>X</button><button type="button" disabled>C</button><button type="button" disabled>V</button><button type="button" disabled>B</button><button type="button" disabled>N</button><button type="button" disabled>M</button>
</form></div>

<div id="loading">Loading... please wait.</div>

<div id="message-banner" class="hidden" aria-live="off"></div>

<div id="help-popup" class="hidden">
	<button type="button" id="close-help-btn" aria-label="Close the help popup"></button>

	<p>Dwindle the starting word down to a 1-letter word, in the fewest moves.<p>
	<p>No lucky guessing here&mdash;unlike other word games!&mdash;just clever word play.</p>
	<p>Try playing games in 3 difficulty levels.</p>

	<hr>

	<ul id="help-content-tabs" role="tablist">
		<li><input type="radio" name="help-content-selector" id="help-example-tab" aria-controls="help-example-content" aria-selected="true" role="tab" checked> <label for="help-example-tab" id="help-example-tab-text" aria-label="See example game play">examples</label></li>

		<li><input type="radio" name="help-content-selector" id="help-instructions-tab" aria-controls="help-instructions-content" aria-selected="false" role="tab"> <label for="help-instructions-tab" id="help-instructions-tab-text" aria-label="See instructions for how to play the game">how to</label></li>

		<li><input type="radio" name="help-content-selector" id="help-about-tab" aria-controls="help-about-content" aria-selected="false" role="tab"> <label for="help-about-tab" id="help-about-tab-text" aria-label="See information about this game and its creator">about</label></li>
	</ul>
	<section id="help-example-content" aria-labelledby="help-example-tab-text" role="tabpanel">
		<p>For each move: <strong>change</strong> a letter, <strong>remove</strong> a letter, or <strong>add</strong> a letter. Each move must make a valid word&mdash;no repeats.</p>
		<div id="help-example-games">
			<div id="help-example-1" aria-label="Game example: SOUR > OUR > OAR > MAR > ...">
				SOUR
				OUR
				OAR
				MAR
			</div>
			<div id="help-example-2" aria-label="Game example: TON > TIN > IN > I">
				TON
				TIN
				IN
				I
			</div>
		</div>
		<p>Play ends at 1-letter words (A or I).</p>
	</section>
	<section id="help-instructions-content" class="hidden" aria-labelledby="help-instructions-tab-text" role="tabpanel">
		<p>Tap any letter <i id="help-letter" aria-label="Letter in the next-play area that can be activated"></i> to activate <i id="help-activated-letter" aria-label="Activated letter"></i> it. Then tap any <i id="help-keyboard-key" aria-label="On-screen keyboard key"></i> to change the letter or tap <i id="help-remove-letter" aria-label="Remove the highlighted letter"></i> to remove it.</p>
		<p>Tap <i id="help-insert-letter" aria-label="Start letter-insert mode"></i> and <i id="help-insert-letter-position" aria-label="Choose where a new letter should be inserted: start of word, end of word, or between two letters"></i> to insert a new letter.</p>
		<p>Tap <i id="help-play-word" aria-label="Attempt to play the current word"></i> to complete a move if it's a valid word or <i id="help-reset-move" aria-label="Reset current word"></i> to reset a move.</p>
		<p>Tap <i id="help-undo" aria-label="Undo most recent played word"></i> or <i id="help-undo-all" aria-label="Undo all played words in the current game"></i> to back up and try different words and improve your score <strong>%</strong> percent.</p>
	</section>
	<section id="help-about-content" class="hidden" aria-labelledby="help-about-tab-text" role="tabpanel">
		<p>Made with love for those who enjoy playing word games but not having to make lucky guesses.</p>
		<p>Please note: <strong>This game is under active development</strong> so things may break or change at any time. Thank you for your patience and feedback.</p>
		<p>Version: <strong>0.5.5</strong> | <strong><a href="https://forms.gle/JaqALq1H27NavxnE9" target="_blank">FEEDBACK SURVEY</a></strong></p>
		<p>&copy; 2022 Kyle Simpson | getify @ gmail</p>
	</section>
</div>

</body>

<script type="importmap">
{
	"imports": {
		"monio": "/js/monio/index.mjs",
		"monio/just": "/js/monio/just.mjs",
		"monio/nothing": "/js/monio/nothing.mjs",
		"monio/maybe": "/js/monio/maybe.mjs",
		"monio/either": "/js/monio/either.mjs",
		"monio/async-either": "/js/monio/async-either.mjs",
		"monio/io": "/js/monio/io/io.mjs",
		"monio/iox": "/js/monio/io/iox.mjs",
		"monio/io/x": "/js/monio/io/iox.mjs",
		"monio/io/any": "/js/monio/io/any.mjs",
		"monio/io/all": "/js/monio/io/all.mjs",
		"monio/io/helpers": "/js/monio/io/helpers.mjs",
		"monio/iox/helpers": "/js/monio/io/x-helpers.mjs",
		"monio/io/x/helpers": "/js/monio/io/x-helpers.mjs",
		"monio/util": "/js/monio/lib/util.mjs",

		"/js-nim/app.mjs": "/js/app.mjs"
	}
}
</script>
<script type="module">import "/js-nim/app.mjs";</script>

</html>
